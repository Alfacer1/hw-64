# Express MVC Server - Phase 2 (Middleware Integration)

Ця версія проекту включає роботу зі станом користувача та захистом маршрутів.

## (Middleware)
У цьому проекті впроваджено систему проміжних обробників для кожного маршруту:
- **Логування:** Відстеження кожного запиту до головного маршруту.
- **Автентифікація:** Перевірка особи користувача для всіх запитів `/users`.
- **Валідація:** Перевірка коректності вхідних даних для користувачів.
- **Управління доступом:** Перевірка прав на перегляд/редагування статей.

## Технології
- **Node.js & Express.js**
- **Middleware-система** для обробки запитів.
- **MVC Architecture** для організації логіки.

## Нові функції:
1. **JWT Auth:** Авторизація через JSON Web Tokens. Токени зберігаються в `httpOnly` cookies.
2. **Cookie State:** Збереження налаштувань теми сайту через `cookie-parser`.
3. **Static Content:** Налаштовано відображення `favicon.ico` на всіх сторінках.

## Нові Ендпоінти:
- `POST /login` — Автентифікація та отримання токена.
- `POST /set-theme` — Встановлення теми оформлення (збереження в cookies).
- **Захищені маршрути:** Усі маршрути `/users` та `/articles` тепер вимагають наявності валідного JWT токена.

## Як використовувати:
1. Виконайте `npm install`.
2. Використайте `POST /login`, щоб отримати доступ до захищених сторінок.