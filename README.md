# Express Auth Project - Passport.js & Sessions

–¶–µ–π –µ—Ç–∞–ø –ø—Ä–æ–µ–∫—Ç—É –ø—Ä–∏—Å–≤—è—á–µ–Ω–∏–π –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—é –Ω–∞–¥—ñ–π–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—é —Å—Ç–∞–Ω–æ–º —á–µ—Ä–µ–∑ —Å–µ—Å—ñ—ó.

## üîê –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è (Passport.js)
–í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–æ —Å–∏—Å—Ç–µ–º—É –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Passport.js:
- **Local Strategy:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è email —Ç–∞ –ø–∞—Ä–æ–ª—è –¥–ª—è –≤—Ö–æ–¥—É.
- **Sessions:** –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏ —á–µ—Ä–µ–∑ `express-session`.
- **Serialization:** –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –º–µ—Ç–æ–¥–∏ `serializeUser` —Ç–∞ `deserializeUser` –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ —Å–µ—Å—ñ–π.

## üõ° –ó–∞—Ö–∏—Å—Ç –º–∞—Ä—à—Ä—É—Ç—ñ–≤
- **ensureAuthenticated:** –°–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –º—ñ–¥–ª–≤–∞—Ä, —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Å—Ç–∞—Ç—É—Å `req.isAuthenticated()`.
- **–ó–∞—Ö–∏—â–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø:** –ú–∞—Ä—à—Ä—É—Ç `/protected` –¥–æ—Å—Ç—É–ø–Ω–∏–π –ª–∏—à–µ –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –≤—Ö–æ–¥—É. –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—é—Ç—å —Å—Ç–∞—Ç—É—Å 401 –∞–±–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—å—Å—è –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤—Ö–æ–¥—É.

## üõ† –ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —Ç–∞ –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏:
1. **GET /login:** –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ä–º–∏ –≤—Ö–æ–¥—É (EJS).
2. **POST /auth/login:** –û–±—Ä–æ–±–∫–∞ –¥–∞–Ω–∏—Ö —Ñ–æ—Ä–º–∏ —á–µ—Ä–µ–∑ `passport.authenticate`.
3. **GET /auth/logout:** –ë–µ–∑–ø–µ—á–Ω–∏–π –≤–∏—Ö—ñ–¥ —ñ–∑ —Å–∏—Å—Ç–µ–º–∏ (–∑–Ω–∏—â–µ–Ω–Ω—è —Å–µ—Å—ñ—ó).
4. **Static Content:** –î–æ–¥–∞–Ω–æ `favicon.ico` –¥–ª—è –≤—Å—ñ—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫ —á–µ—Ä–µ–∑ `express.static`.

## –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:
1. –í–∏–∫–æ–Ω–∞–π—Ç–µ `npm install passport passport-local express-session`.
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä: `npm start`.
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–∞–Ω—ñ `user@example.com` / `123` –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—Ö–æ–¥—É.
